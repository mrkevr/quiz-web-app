<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:fragment="index.head">
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://unpkg.com/nes.css@latest/css/nes.min.css" rel="stylesheet" />
	<link th:href="@{/css/ranking.css}" rel="stylesheet">
	<title>Ranking - Spring Boot Quiz App</title>
	<link rel="icon" type="image/x-icon" href="/images/question-box.png">
</head>
<body>

	<!-- NavBar -->
	<div th:replace="~{fragments::navbar}"></div>
	
	<!-- Main Container Start -->
	<div class="main-container container py-5 px-4">
		
		<!-- Title -->
		<div class="nes-container is-dark d-flex justify-content-center mb-3 p-3">
			<i class="nes-icon coin is-medium d-none d-xl-block"></i>
			<h1 class="nes-text is-warning align-self-center"> HIGH SCORES </h1>
			<i class="nes-icon coin is-medium d-none d-xl-block"></i>
		</div>
		
		<!-- Select -->
		<div class="nes-container is-dark d-flex justify-content-center mb-3 p-3">
			<div class="nes-select is-dark">
				<select id="selectCategory" th:onchange="'window.location.href = \'' + @{/ranking} + '?categoryId=\' + this.value ' ">
					<option th:each="category : ${categories}" 
							th:value="${category.categoryId}" 
							th:text="${category.name}" 
							th:selected="${category.categoryId == ranking.categoryId}"
							class="text-center">
					</option>
				</select>
			</div>
		</div>
		
		<!-- Table -->
		<table class="nes-container is-dark">
			<tr>
				<th><h5 class="nes-text is-warning">Name</h5></th>
				<th><h5 class="nes-text is-warning">Score</h5></th>
			</tr>
			<tr th:each="instance, iStat : ${ranking.usernamePercentage}">
				<td th:switch="${iStat.count}">
					<span th:case="1" th:text="${instance.key}" style="color: #20A0F8" class="h4"></span>
					<span th:case="2" th:text="${instance.key}" style="color: #A8E8A0" class="h4" ></span>
					<span th:case="3" th:text="${instance.key}" style="color: #F87068" class="h4"></span>
		   			<span th:case="*" th:text="${instance.key}"></span>
				</td>
				<td th:switch="${iStat.count}">
					<span th:case="1" th:text="${instance.value}" style="color: #20A0F8"></span>
					<span th:case="2" th:text="${instance.value}" style="color: #A8E8A0"></span>
					<span th:case="3" th:text="${instance.value}" style="color: #F87068"></span>
		   			<span th:case="*" th:text="${instance.value}"></span>
				</td>
			</tr>
		</table>
	</div>
	
	<!-- Footer -->
	<div th:replace="~{fragments::footer}"></div>
	
	<!-- Bootstrap JS -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>